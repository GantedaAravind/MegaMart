"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[525],{7525:(e,r,s)=>{s.r(r),s.d(r,{default:()=>u});var t=s(5043),a=s(1552),l=s(6178),d=s.n(l),c=s(3768),o=s(6720),n=s(6794),i=s(3559),h=s(579);const b=e=>{const{name:r,email:s,role:l,onClose:d,userId:b,callFunc:m}=e,[u,x]=(0,t.useState)(l),[j,g]=(0,t.useState)(!1);return(0,h.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0  w-full h-full z-10 flex justify-between items-center bg-slate-200 bg-opacity-50 ",children:(0,h.jsxs)("div",{className:"w-full  mx-auto bg-white shadow-md p-4 max-w-sm",children:[(0,h.jsx)("button",{className:"block  ml-auto",onClick:d,children:(0,h.jsx)(o.OZi,{})}),(0,h.jsx)("h1",{className:"pb-4 text-lg font-medium",children:"Change User Role"}),(0,h.jsxs)("p",{children:["Name : ",r]}),(0,h.jsxs)("p",{children:["Email : ",s]}),(0,h.jsxs)("div",{className:"flex items-center justify-between my-4 gap-1",children:[(0,h.jsx)("p",{children:"Role : "}),(0,h.jsx)("select",{className:"border-2 px-4 py-1 ",value:u,onChange:e=>{x(e.target.value)},children:Object.values(n.A).map(((e,r)=>(0,h.jsx)("option",{value:e,children:e},r)))})]}),(0,h.jsx)("button",{className:" disabled:opacity-60 disabled:cursor-not-allowed  w-fit mx-auto block py-1  px-3 rounded-full bg-red-600 text-white hover:bg-red-700",onClick:()=>{(0,i.A)(),(async()=>{g(!0);try{const e=await fetch(a.A.updateUser.url,{method:a.A.updateUser.method,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:b,role:u})}),r=await e.json();r.success?(c.Ay.success(r.message),d(),m()):c.Ay.error(r.message)}catch(e){c.Ay.error("Some thing went Wrong...\ud83d\ude2f")}g(!1)})()},disabled:j,children:"Change Role"})]})})};var m=s(1464);const u=()=>{const[e,r]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[n,u]=(0,t.useState)({name:"",email:"",role:"",_id:""}),x=async()=>{const e=await fetch(a.A.allUsers.url,{method:a.A.allUsers.method,credentials:"include"}),s=await e.json();s.success?r(s.data):c.Ay.error(s.message)},j=(0,t.useContext)(m.A);return(0,t.useEffect)((()=>{x()}),[]),(0,h.jsxs)("div",{className:"pb-4",children:[(0,h.jsxs)("table",{className:"transition-all duration-1000  w-full border-2 border-red-500  "+("dark"==j.theme?" text-white bg-black":" text-black bg-white"),children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:`border-2 text-start transition-all duration-1000 border-red-500 ${"dark"==j.theme?" text-black bg-white":" text-white bg-black"} `,children:[(0,h.jsx)("th",{className:"border-2 border-red-500",children:"SNO."}),(0,h.jsx)("th",{className:"border-2 border-red-500",children:"Name"}),(0,h.jsx)("th",{className:"border-2 border-red-500",children:"Email"}),(0,h.jsx)("th",{className:"border-2 border-red-500",children:"Role"}),(0,h.jsx)("th",{className:"border-2 border-red-500",children:"Created Date"}),(0,h.jsx)("th",{className:"border-2 border-red-500",children:"Action"})]})}),(0,h.jsx)("tbody",{className:"transition-all duration-1000 "+("dark"==j.theme?" text-white bg-black":" text-black bg-white"),children:e.map(((e,r)=>(0,h.jsxs)("tr",{className:"text-center ",children:[(0,h.jsx)("td",{className:"border-2 border-red-500",children:r+1}),(0,h.jsx)("td",{className:"border-2 border-red-500",children:e.name}),(0,h.jsx)("td",{className:"border-2 border-red-500",children:e.email}),(0,h.jsx)("td",{className:"border-2 border-red-500",children:e.role}),(0,h.jsx)("td",{className:"border-2 border-red-500",children:d()(e.createdAt).format("LL")}),(0,h.jsx)("td",{className:"border-2 border-red-500",children:(0,h.jsx)("button",{className:("dark"==j.theme?" bg-black hover:bg-green-500":"bg-white hover:bg-green-500")+"  hover:text-white p-2 rounded-full cursor-pointer",onClick:()=>{(0,i.A)(),u(e),l(!0)},children:(0,h.jsx)(o.vAr,{})})})]},r)))})]}),s&&(0,h.jsx)(b,{onClose:()=>{l(!1)},name:n.name,email:n.email,role:n.role,userId:n._id,callFunc:x})]})}}}]);
//# sourceMappingURL=525.063df216.chunk.js.map