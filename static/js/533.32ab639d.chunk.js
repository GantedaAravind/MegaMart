"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[533],{4533:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var l=s(5043),a=s(1552),d=s(3768),r=s(1464),i=s(397),o=s(6879),n=s(7196),c=s(3559),u=s(579);const m=()=>{const[e,t]=(0,l.useState)([]),[s,m]=(0,l.useState)(!1),h=(0,l.useContext)(r.A),x=async()=>{try{m(!0);const e=await fetch(a.A.addToCartProductView.url,{method:a.A.addToCartProductView.method,credentials:"include"}),s=await e.json();if(m(!1),!s.success)throw new Error(s.message);t(s.data)}catch(e){d.Ay.error(e.message)}},p=new Array(h.cartProductCount).fill(null),v=e.reduce(((e,t)=>e+t.quantity),0),g=e.reduce(((e,t)=>e+t.productId.sellingPrice*t.quantity),0);return(0,l.useEffect)((()=>{x()}),[]),(0,u.jsxs)("div",{className:"container mx-auto",children:[(0,u.jsx)("div",{className:"text-center text-lg font-medium my-3",children:0===e.length&&!s&&(0,u.jsxs)("div",{className:"mx-auto rounded w-[500px] mt-24 h-96 flex flex-col justify-evenly",children:[(0,u.jsx)("img",{src:"https://golokaonline.in/static/version1727530784/frontend/MageBig/martfury_layout01/en_US/images/empty-cart.svg",className:""}),(0,u.jsx)("h2",{className:"text-xl font-bold ",children:"You have no items in your shopping cart."})]})}),(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10 lg:justify-between p-4",children:[(0,u.jsx)("div",{className:"w-full max-w-3xl",children:s?p.map(((e,t)=>(0,u.jsx)("div",{className:"w-full bg-slate-200 h-32 my-2 border border-slate-300  rounded "},t))):e.map((e=>{var t,s,l,r,m;return(0,u.jsxs)("div",{className:`w-full ${"dark"==h.theme?" bg-black border-slate-700":"bg-white border-slate-300"}  h-32 my-2 border  rounded grid grid-cols-[128px,1fr] shadow-md hover:scale-105 hover:shadow-lg transition-all`,children:[(0,u.jsx)("div",{className:`w-32 rounded-md h-32 ${"dark"==h.theme?" bg-slate-400":"bg-slate-200 "} overflow-hidden `,children:(0,u.jsx)("img",{src:null===e||void 0===e||null===(t=e.productId)||void 0===t?void 0:t.productImage[0],className:"w-full h-full object-scale-down mix-blend-multiply"})}),(0,u.jsxs)("div",{className:"px-4 py-2 relative",children:[(0,u.jsx)("div",{className:"absolute top-4 text-xl cursor-pointer text-red-600 rounded-full hover:text-white hover:bg-red-600 p-1 transition-all scale-110 right-4",onClick:()=>{(0,c.A)(),(async e=>{try{const t=await fetch(a.A.deleteCartProduct.url,{method:a.A.deleteCartProduct.method,credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({_id:e})}),s=await t.json();if(!s.success)throw new Error(s.message);d.Ay.success(s.message),await x(),await h.fetchUserAddToCart()}catch(t){d.Ay.error(t.message)}})(null===e||void 0===e?void 0:e._id)},children:(0,u.jsx)(n.wh2,{})}),(0,u.jsx)("h2",{className:"capitalize text-lg lg:text-xl text-ellipsis line-clamp-1 w-[93%]",children:null===e||void 0===e||null===(s=e.productId)||void 0===s?void 0:s.productName}),(0,u.jsx)("p",{className:"capitalize text-slate-500",children:null===e||void 0===e||null===(l=e.productId)||void 0===l?void 0:l.category}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("p",{className:"capitalize text-red-500 font-medium text-lg ",children:(0,o.A)(null===e||void 0===e||null===(r=e.productId)||void 0===r?void 0:r.sellingPrice)}),(0,u.jsx)("p",{className:"capitalize text-slate-500 font-semibold text-lg ",children:(0,o.A)((null===e||void 0===e||null===(m=e.productId)||void 0===m?void 0:m.sellingPrice)*(null===e||void 0===e?void 0:e.quantity))})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3 mt-1 ",children:[(0,u.jsx)("button",{className:"p-1 border rounded border-red-600 hover:bg-red-600 hover:text-white text-red-600",onClick:t=>{(0,c.A)(),(async(e,t)=>{try{if(t>=2){const s=await fetch(a.A.updateCartProduct.url,{method:a.A.updateCartProduct.method,credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({_id:e,quantity:t-1})}),l=await s.json();if(!l.success)throw new Error(l.message);d.Ay.success(l.message),await x()}}catch(s){d.Ay.error(s.message)}})(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.quantity)},children:(0,u.jsx)(i.XP8,{})}),(0,u.jsx)("span",{className:"p-1",children:null===e||void 0===e?void 0:e.quantity}),(0,u.jsx)("button",{className:"p-1 border rounded border-red-600  hover:bg-red-600 hover:text-white text-red-600",onClick:t=>{(0,c.A)(),(async(e,t)=>{try{const s=await fetch(a.A.updateCartProduct.url,{method:a.A.updateCartProduct.method,credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({_id:e,quantity:t+1})}),l=await s.json();if(!l.success)throw new Error(l.message);d.Ay.success(l.message),await x()}catch(s){d.Ay.error(s.message)}})(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.quantity)},children:(0,u.jsx)(i.xuo,{})})]})]})]},null===e||void 0===e?void 0:e._id)}))}),(0,u.jsx)("div",{className:"mt-5 lg:mx-w-3xl w-full lg:mt-0 max-w-sm p-4",children:s?(0,u.jsx)("div",{className:`h-36 ${"dark"==h.theme?" bg-slate-400 border-slate-700":"bg-slate-200 border-slate-300 "}  border rounded animate-pulse`,children:"Total"}):0!==e.length&&(0,u.jsxs)("div",{className:`h-36 rounded-md border ${"dark"==h.theme?" bg-black border-slate-700":"bg-white border-slate-300 "} shadow-md`,children:[(0,u.jsx)("h2",{className:"font-bold text-xl px-4 py-1 bg-red-500 rounded text-white",children:"Summary"}),(0,u.jsxs)("div",{className:"flex items-center justify-between px-4 gap-2 py-1 font-medium text-lg text-slate-600",children:[(0,u.jsx)("p",{children:"Quantity : "}),(0,u.jsx)("p",{children:v})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between px-4 gap-2 py-1 font-medium text-lg text-slate-600",children:[(0,u.jsx)("p",{children:"Total Price : "}),(0,u.jsx)("p",{children:(0,o.A)(g)})]}),(0,u.jsx)("button",{className:"bg-blue-600 p-2  rounded font-semibold text-lg text-white w-full",children:"Payment"})]})})]})]})}}}]);
//# sourceMappingURL=533.32ab639d.chunk.js.map