{"version":3,"file":"static/js/533.32ab639d.chunk.js","mappings":"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","sources":["pages/Cart.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport SummaryApi from \"../common\";\nimport toast from \"react-hot-toast\";\nimport Context from \"../context\";\nimport { TbExposureMinus1 } from \"react-icons/tb\";\nimport { TbExposurePlus1 } from \"react-icons/tb\";\nimport diaplyINRCurrency from \"../helpers/displayCurrency\";\nimport { RiDeleteBin3Fill } from \"react-icons/ri\";\nimport playSound from \"../common/playSound\";\n\nconst Cart = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const context = useContext(Context);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const fetchResponse = await fetch(SummaryApi.addToCartProductView.url, {\n        method: SummaryApi.addToCartProductView.method,\n        credentials: \"include\",\n      });\n\n      const dataResponse = await fetchResponse.json();\n      setLoading(false);\n      if (dataResponse.success) {\n        setData(dataResponse.data);\n      } else {\n        throw new Error(dataResponse.message);\n      }\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const increaseQty = async (id, qty) => {\n    try {\n      const fetchResponse = await fetch(SummaryApi.updateCartProduct.url, {\n        method: SummaryApi.updateCartProduct.method,\n        credentials: \"include\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          _id: id,\n          quantity: qty + 1,\n        }),\n      });\n      const dataResponse = await fetchResponse.json();\n      if (dataResponse.success) {\n        toast.success(dataResponse.message);\n        await fetchData();\n      } else {\n        throw new Error(dataResponse.message);\n      }\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const decreaseQty = async (id, qty) => {\n    try {\n      if (qty >= 2) {\n        const fetchResponse = await fetch(SummaryApi.updateCartProduct.url, {\n          method: SummaryApi.updateCartProduct.method,\n          credentials: \"include\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            _id: id,\n            quantity: qty - 1,\n          }),\n        });\n        const dataResponse = await fetchResponse.json();\n        if (dataResponse.success) {\n          toast.success(dataResponse.message);\n          await fetchData();\n        } else {\n          throw new Error(dataResponse.message);\n        }\n      }\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  // deleteCartProduct\n  const deleteProduct = async (id) => {\n    try {\n      const fetchResponse = await fetch(SummaryApi.deleteCartProduct.url, {\n        method: SummaryApi.deleteCartProduct.method,\n        credentials: \"include\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          _id: id,\n        }),\n      });\n      const dataResponse = await fetchResponse.json();\n      if (dataResponse.success) {\n        toast.success(dataResponse.message);\n        await fetchData();\n        await context.fetchUserAddToCart();\n      } else {\n        throw new Error(dataResponse.message);\n      }\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const loadingItems = new Array(context.cartProductCount).fill(null);\n\n  const totalQty = data.reduce((prev, current) => prev + current.quantity, 0);\n  const totalPrice = data.reduce(\n    (prev, current) => prev + current.productId.sellingPrice * current.quantity,\n    0\n  );\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return (\n    <div className=\"container mx-auto\">\n      <div className=\"text-center text-lg font-medium my-3\">\n        {data.length === 0 && !loading && (\n          <div className=\"mx-auto rounded w-[500px] mt-24 h-96 flex flex-col justify-evenly\">\n            <img\n              src={\n                \"https://golokaonline.in/static/version1727530784/frontend/MageBig/martfury_layout01/en_US/images/empty-cart.svg\"\n              }\n              className=\"\"\n            />\n            <h2 className=\"text-xl font-bold \">\n              You have no items in your shopping cart.\n            </h2>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-col lg:flex-row gap-10 lg:justify-between p-4\">\n        {/* view product */}\n        <div className=\"w-full max-w-3xl\">\n          {loading\n            ? loadingItems.map((_, idx) => (\n                <div\n                  key={idx}\n                  className={`w-full bg-slate-200 h-32 my-2 border border-slate-300  rounded `}\n                ></div>\n              ))\n            : data.map((product) => (\n                <div\n                  key={product?._id}\n                  className={`w-full ${\n                    context.theme == \"dark\"\n                      ? \" bg-black border-slate-700\"\n                      : \"bg-white border-slate-300\"\n                  }  h-32 my-2 border  rounded grid grid-cols-[128px,1fr] shadow-md hover:scale-105 hover:shadow-lg transition-all`}\n                >\n                  <div\n                    className={`w-32 rounded-md h-32 ${\n                      context.theme == \"dark\"\n                        ? \" bg-slate-400\"\n                        : \"bg-slate-200 \"\n                    } overflow-hidden `}\n                  >\n                    <img\n                      src={product?.productId?.productImage[0]}\n                      className=\"w-full h-full object-scale-down mix-blend-multiply\"\n                    />\n                  </div>\n                  <div className=\"px-4 py-2 relative\">\n                    <div\n                      className=\"absolute top-4 text-xl cursor-pointer text-red-600 rounded-full hover:text-white hover:bg-red-600 p-1 transition-all scale-110 right-4\"\n                      onClick={() => {\n                        playSound();\n                        deleteProduct(product?._id);\n                      }}\n                    >\n                      <RiDeleteBin3Fill />\n                    </div>\n                    <h2 className=\"capitalize text-lg lg:text-xl text-ellipsis line-clamp-1 w-[93%]\">\n                      {product?.productId?.productName}\n                    </h2>\n                    <p className=\"capitalize text-slate-500\">\n                      {product?.productId?.category}\n                    </p>\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"capitalize text-red-500 font-medium text-lg \">\n                        {diaplyINRCurrency(product?.productId?.sellingPrice)}\n                      </p>\n                      <p className=\"capitalize text-slate-500 font-semibold text-lg \">\n                        {diaplyINRCurrency(\n                          product?.productId?.sellingPrice * product?.quantity\n                        )}\n                      </p>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 mt-1 \">\n                      <button\n                        className=\"p-1 border rounded border-red-600 hover:bg-red-600 hover:text-white text-red-600\"\n                        onClick={(e) => {\n                          playSound();\n                          decreaseQty(product?._id, product?.quantity);\n                        }}\n                      >\n                        <TbExposureMinus1 />\n                      </button>\n                      <span className=\"p-1\">{product?.quantity}</span>\n                      <button\n                        className=\"p-1 border rounded border-red-600  hover:bg-red-600 hover:text-white text-red-600\"\n                        onClick={(e) => {\n                          playSound();\n                          increaseQty(product?._id, product?.quantity);\n                        }}\n                      >\n                        <TbExposurePlus1 />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n        </div>\n\n        {/* Total Summary  */}\n        <div className=\"mt-5 lg:mx-w-3xl w-full lg:mt-0 max-w-sm p-4\">\n          {loading ? (\n            <div\n              className={`h-36 ${\n                context.theme == \"dark\"\n                  ? \" bg-slate-400 border-slate-700\"\n                  : \"bg-slate-200 border-slate-300 \"\n              }  border rounded animate-pulse`}\n            >\n              Total\n            </div>\n          ) : (\n            data.length !== 0 && (\n              <div\n                className={`h-36 rounded-md border ${\n                  context.theme == \"dark\"\n                    ? \" bg-black border-slate-700\"\n                    : \"bg-white border-slate-300 \"\n                } shadow-md`}\n              >\n                <h2 className=\"font-bold text-xl px-4 py-1 bg-red-500 rounded text-white\">\n                  Summary\n                </h2>\n                <div className=\"flex items-center justify-between px-4 gap-2 py-1 font-medium text-lg text-slate-600\">\n                  <p>Quantity : </p>\n                  <p>{totalQty}</p>\n                </div>\n                <div className=\"flex items-center justify-between px-4 gap-2 py-1 font-medium text-lg text-slate-600\">\n                  <p>Total Price : </p>\n                  <p>{diaplyINRCurrency(totalPrice)}</p>\n                </div>\n                <button className=\"bg-blue-600 p-2  rounded font-semibold text-lg text-white w-full\">\n                  Payment\n                </button>\n              </div>\n            )\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"names":["Cart","data","setData","useState","loading","setLoading","context","useContext","Context","fetchData","async","fetchResponse","fetch","SummaryApi","addToCartProductView","url","method","credentials","dataResponse","json","success","Error","message","err","toast","error","loadingItems","Array","cartProductCount","fill","totalQty","reduce","prev","current","quantity","totalPrice","productId","sellingPrice","useEffect","_jsxs","className","children","_jsx","length","src","map","_","idx","product","_product$productId","_product$productId2","_product$productId3","_product$productId4","_product$productId5","theme","productImage","onClick","playSound","deleteCartProduct","headers","body","JSON","stringify","_id","id","fetchUserAddToCart","deleteProduct","RiDeleteBin3Fill","productName","category","diaplyINRCurrency","e","qty","updateCartProduct","decreaseQty","TbExposureMinus1","increaseQty","TbExposurePlus1"],"sourceRoot":""}