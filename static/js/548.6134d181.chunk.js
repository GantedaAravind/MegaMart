"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[548],{6548:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(5043),r=s(79),l=s(423),n=s(3216),d=s(5475);const o=async e=>{const a=new FileReader;a.readAsDataURL(e);return await new Promise(((e,s)=>{a.onload=()=>e(a.result),a.onerror=e=>s(e)}))};var i=s(1552),c=s(3768);const m=s.p+"static/media/emailVerify.0f66d0b183aa1f078ae51d1624ed1a17.svg";var u=s(1464),h=s(3559),x=s(579);const p=function(){const[e,a]=(0,t.useState)(!1),s=(0,t.useContext)(u.A),[p,f]=(0,t.useState)(!1),[g,b]=(0,t.useState)(!1),[w,v]=(0,t.useState)({email:"",password:"",name:"",confirmPassword:"",profilePic:""}),[j,y]=(0,t.useState)(""),[N,k]=(0,t.useState)(""),C=(0,n.Zp)(),A=e=>{"email"===e.target.name?v((a=>({...a,email:e.target.value}))):"name"===e.target.name?v((a=>({...a,name:e.target.value}))):"confirmPassword"===e.target.name?v((a=>({...a,confirmPassword:e.target.value}))):v((a=>({...a,password:e.target.value})))},[P,S]=(0,t.useState)(!1),[E,$]=(0,t.useState)(!1);return(0,x.jsx)("section",{id:"signup",children:(0,x.jsx)("div",{className:"mx-auto  container p-4",children:p?(0,x.jsxs)("div",{className:` ${"dark"==s.theme?"  bg-black":"bg-white "} mx-auto p-5 w-full max-w-sm rounded mt-20`,children:[(0,x.jsx)("img",{src:m,alt:"Email Icon",className:"h-16  mx-auto"}),(0,x.jsxs)("h2",{className:"text-xl font-semibold w-fit mx-auto capitalize mt-4",children:[" ","Verify It's You"]}),(0,x.jsxs)("p",{className:"mb-4 text-center text-sm ",children:["We've sent a verification code to"," ",(0,x.jsx)("span",{className:"font-semibold",children:w.email}),". Please enter the code below to verify your account."]}),(0,x.jsxs)("div",{className:"mt-8",children:[(0,x.jsx)("div",{className:"",children:(0,x.jsx)("div",{className:("dark"==s.theme?" bg-slate-400 border-slate-700":"bg-slate-200 ")+" rounded  p-2",children:(0,x.jsx)("input",{type:"text",placeholder:"Verification Code",name:"verifycode",maxLength:"6",value:j,onChange:e=>{"verifycode"===e.target.name&&y(e.target.value)},required:!0,className:`w-full rounded bg-transparent outline-none h-full ${"dark"==s.theme?"placeholder:text-slate-600 ":""} rounded  `})})}),(0,x.jsx)("button",{disabled:P,onClick:async e=>{e.preventDefault(),(0,h.A)(),S(!0);try{if(N!=j)throw new Error("Invalid Code...\ud83e\udd10");{const e=await fetch(i.A.signUp.url,{method:i.A.signIn.method,headers:{"content-type":"application/json"},body:JSON.stringify(w)}),a=await e.json();a.success?(c.Ay.success(a.message),C("/login")):c.Ay.error(a.message)}}catch(a){c.Ay.error(a.message)}S(!1)},className:` disabled:opacity-60 disabled:cursor-not-allowed rounded border-2 border-red-500 ${"dark"==s.theme?"  bg-red-500 transition-all duration-1000 text-white hover:bg-black hover:text-red-500 ":"bg-red-500 transition-all duration-1000 text-white hover:bg-white hover:text-red-500  "} border p-1 w-full mt-4 text-xl font-medium `,children:"Verify Code"})]})]}):(0,x.jsxs)("div",{className:` ${"dark"==s.theme?"  bg-black":"bg-white "} mx-auto p-5 w-full max-w-sm  `,children:[(0,x.jsxs)("div",{className:"w-20 h-20 mx-auto relative overflow-hidden rounded-full ",children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{src:w.profilePic||r,alt:"Login Icon"})}),(0,x.jsx)("form",{children:(0,x.jsxs)("label",{children:[(0,x.jsx)("div",{className:`text-xs bg-opacity-80 ${"dark"==s.theme?"  bg-slate-400":"bg-slate-200"}  pb-4 pt-2 cursor-pointer text-center absolute bottom-0 w-full`,children:"Upload Photo"}),(0,x.jsx)("input",{type:"file",className:"hidden",onChange:async e=>{try{const a=e.target.files[0];if(a.size>307200)throw new Error("File size exceeds 300KB limit.");const s=await o(a);v((e=>({...e,profilePic:s})))}catch(a){c.Ay.error(a.message)}}})]})})]}),(0,x.jsxs)("form",{className:"pt-6 flex flex-col gap-2 ",onSubmit:async e=>{e.preventDefault(),$(!0),(0,h.A)();try{if(w.password===w.confirmPassword){const e=await fetch(i.A.sendEmail.url,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({userEmail:w.email})}),a=await e.json();a.success?(c.Ay.success(a.message),k(a.verificationCode),f(!0)):c.Ay.error(a.message)}else c.Ay.error("Check password and Confirm Passwprd....\ud83d\ude2f")}catch(a){c.Ay.error(a.message)}$(!1)},children:[(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("label",{children:"UserName : "}),(0,x.jsx)("div",{className:("dark"==s.theme?" bg-slate-400 border-slate-700":"bg-slate-200 ")+" rounded  p-2",children:(0,x.jsx)("input",{type:"text",placeholder:"Enter Name",name:"name",value:w.name,onChange:A,required:!0,className:`w-full rounded bg-transparent outline-none h-full ${"dark"==s.theme?"placeholder:text-slate-600 ":""} rounded  `})})]}),(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("label",{children:"Email : "}),(0,x.jsx)("div",{className:("dark"==s.theme?" bg-slate-400 border-slate-700":"bg-slate-200 ")+" rounded  p-2",children:(0,x.jsx)("input",{type:"email",placeholder:"Enter Email",name:"email",value:w.email,onChange:A,required:!0,className:`w-full rounded bg-transparent outline-none h-full ${"dark"==s.theme?"placeholder:text-slate-600 ":""} rounded  `})})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("label",{children:"Password : "}),(0,x.jsxs)("div",{className:("dark"==s.theme?" bg-slate-400 border-slate-700":"bg-slate-200 ")+" rounded  p-2 flex",children:[(0,x.jsx)("input",{type:e?"text":"password",placeholder:"Enter Password",name:"password",value:w.password,onChange:A,required:!0,className:`w-full rounded bg-transparent outline-none h-full ${"dark"==s.theme?"placeholder:text-slate-600 ":" "} rounded  `}),(0,x.jsx)("div",{className:"text-xl",onClick:()=>a((e=>!e)),children:(0,x.jsx)("span",{children:e?(0,x.jsx)(l.$3n,{}):(0,x.jsx)(l.M8f,{})})})]})]}),(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("label",{children:"Confirm Password : "}),(0,x.jsxs)("div",{className:("dark"==s.theme?" bg-slate-400 border-slate-700":"bg-slate-200 ")+" rounded  p-2 flex",children:[(0,x.jsx)("input",{type:g?"text":"password",placeholder:"Enter Confrim Password",name:"confirmPassword",value:w.confirpassword,required:!0,onChange:A,className:`w-full rounded bg-transparent outline-none h-full ${"dark"==s.theme?"placeholder:text-slate-600 ":""} rounded  `}),(0,x.jsx)("div",{className:"text-xl",onClick:()=>b((e=>!e)),children:(0,x.jsx)("span",{children:g?(0,x.jsx)(l.$3n,{}):(0,x.jsx)(l.M8f,{})})})]})]}),(0,x.jsx)("button",{disabled:E,className:"bg-red-500 disabled:cursor-not-allowed disabled:opacity-60 hover:bg-red-700 text-white px-6 py-2 w-full max-w-[150px] rounded-full hover:scale-110 transition-all mx-auto block mt-4 ",children:"Sign Up"})]}),(0,x.jsxs)("p",{className:"my-4 ",children:["Already Have Account?",(0,x.jsx)(d.N_,{to:"/login",onClick:()=>{(0,h.A)()},className:"hover:underline text-red-500 hover:text-red-700",children:"Login"})]})]})})})}},79:(e,a,s)=>{e.exports=s.p+"static/media/signin.17a4958e14cc0056ecac.gif"}}]);
//# sourceMappingURL=548.6134d181.chunk.js.map